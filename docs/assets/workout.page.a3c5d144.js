import{u as Ke,a as Ge,b as Xe,e as ne,f as Ye,g as Ue,h as Ze,i as Je,j as et,k as tt,l as ot,m as ve,n as nt,Q as lt,d as at,c as ge}from"./duration.653a881b.js";import{Q as le}from"./QBtn.8e869bf1.js";import{i as it,k as rt,l as st,h as ut,m as ct}from"./Ripple.f37a5787.js";import{c as de,a as s,h as p,g as $e,o as Fe,X as he,Y as ye,r as k,A as Le,Z as dt,_ as ft,$ as _,y as T,s as mt,a0 as vt,j as gt,n as we,T as pe,a1 as ht,a2 as yt,C as ae,Q as xe,F as m,E as y,R as be,S as j,V as E,a3 as K,U as wt,I as pt,D as xt}from"./index.db02ec60.js";import{c as bt,b as kt,h as St,a as _t,u as Ct}from"./scroll.c1135e08.js";import{u as qt}from"./store.6c96897c.js";const Tt={...it,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean};function Et(e,t,l){return l<=t?t:Math.min(l,Math.max(t,e))}const ce=50,ze=2*ce,Qe=ze*Math.PI,Pt=Math.round(Qe*1e3)/1e3;var Bt=de({name:"QCircularProgress",props:{...Tt,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:l}}=$e(),n=rt(e),a=s(()=>{const c=(l.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(l.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-c}deg)`:`rotate3d(0, 0, 1, ${c-90}deg)`}}),r=s(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),o=s(()=>ze/(1-e.thickness/2)),d=s(()=>`${o.value/2} ${o.value/2} ${o.value} ${o.value}`),u=s(()=>Et(e.value,e.min,e.max)),w=s(()=>e.max-e.min),v=s(()=>e.thickness/2*o.value),h=s(()=>{const c=(e.max-u.value)/w.value,b=e.rounded===!0&&u.value<e.max&&c<.25?v.value/2*(1-c/.25):0;return Qe*c+b});function f({thickness:c,offset:b,color:F,cls:C,rounded:q}){return p("circle",{class:"q-circular-progress__"+C+(F!==void 0?` text-${F}`:""),style:r.value,fill:"transparent",stroke:"currentColor","stroke-width":c,"stroke-dasharray":Pt,"stroke-dashoffset":b,"stroke-linecap":q,cx:o.value,cy:o.value,r:ce})}return()=>{const c=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&c.push(p("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:ce-v.value/2,cx:o.value,cy:o.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&c.push(f({cls:"track",thickness:v.value,offset:0,color:e.trackColor})),c.push(f({cls:"circle",thickness:v.value,offset:h.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const b=[p("svg",{class:"q-circular-progress__svg",style:a.value,viewBox:d.value,"aria-hidden":"true"},c)];return e.showValue===!0&&b.push(p("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[p("div",u.value)])),p("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:n.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:u.value},st(t.internal,b))}}});function $t(e,t,l){let n;function a(){n!==void 0&&(he.remove(n),n=void 0)}return Fe(()=>{e.value===!0&&a()}),{removeFromHistory:a,addToHistory(){n={condition:()=>l.value===!0,handler:t},he.add(n)}}}const Ft={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Lt(e,t=()=>{},l=()=>{}){return{transitionProps:s(()=>{const n=`q-transition--${e.transitionShow||t()}`,a=`q-transition--${e.transitionHide||l()}`;return{appear:!0,enterFromClass:`${n}-enter-from`,enterActiveClass:`${n}-enter-active`,enterToClass:`${n}-enter-to`,leaveFromClass:`${a}-leave-from`,leaveActiveClass:`${a}-leave-active`,leaveToClass:`${a}-leave-to`}}),transitionStyle:s(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let M=[],N=[];function He(e){N=N.filter(t=>t!==e)}function zt(e){He(e),N.push(e)}function ke(e){He(e),N.length===0&&M.length!==0&&(M[M.length-1](),M=[])}function Qt(e){N.length===0?e():M.push(e)}let Ht=1,Dt=document.body;function At(e,t){const l=document.createElement("div");if(l.id=t!==void 0?`q-portal--${t}--${Ht++}`:e,ye.globalNodes!==void 0){const n=ye.globalNodes.class;n!==void 0&&(l.className=n)}return Dt.appendChild(l),l}function Mt(e){e.remove()}const ie=[],Vt=de({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function Nt(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function It(e,t,l,n){const a=k(!1),r=k(!1);let o=null;const d={},u=n==="dialog"&&Nt(e);function w(h){if(h===!0){ke(d),r.value=!0;return}r.value=!1,a.value===!1&&(u===!1&&o===null&&(o=At(!1,n)),a.value=!0,ie.push(e.proxy),zt(d))}function v(h){if(r.value=!1,h!==!0)return;ke(d),a.value=!1;const f=ie.indexOf(e.proxy);f!==-1&&ie.splice(f,1),o!==null&&(Mt(o),o=null)}return Le(()=>{v(!0)}),e.proxy.__qPortal=!0,dt(e.proxy,"contentEl",()=>t.value),{showPortal:w,hidePortal:v,portalIsActive:a,portalIsAccessible:r,renderPortal:()=>u===!0?l():a.value===!0?[p(ft,{to:o},p(Vt,l))]:void 0}}let A=0,re,se,V,ue=!1,Se,_e,Ce,P=null;function Ot(e){Wt(e)&&mt(e)}function Wt(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=vt(e),l=e.shiftKey&&!e.deltaX,n=!l&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),a=l||n?e.deltaY:e.deltaX;for(let r=0;r<t.length;r++){const o=t[r];if(St(o,n))return n?a<0&&o.scrollTop===0?!0:a>0&&o.scrollTop+o.clientHeight===o.scrollHeight:a<0&&o.scrollLeft===0?!0:a>0&&o.scrollLeft+o.clientWidth===o.scrollWidth}return!0}function qe(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function G(e){ue!==!0&&(ue=!0,requestAnimationFrame(()=>{ue=!1;const{height:t}=e.target,{clientHeight:l,scrollTop:n}=document.scrollingElement;(V===void 0||t!==window.innerHeight)&&(V=l-t,document.scrollingElement.scrollTop=n),n>V&&(document.scrollingElement.scrollTop-=Math.ceil((n-V)/8))}))}function Te(e){const t=document.body,l=window.visualViewport!==void 0;if(e==="add"){const{overflowY:n,overflowX:a}=window.getComputedStyle(t);re=bt(window),se=kt(window),Se=t.style.left,_e=t.style.top,Ce=window.location.href,t.style.left=`-${re}px`,t.style.top=`-${se}px`,a!=="hidden"&&(a==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),n!=="hidden"&&(n==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,_.is.ios===!0&&(l===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",G,T.passiveCapture),window.visualViewport.addEventListener("scroll",G,T.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",qe,T.passiveCapture))}_.is.desktop===!0&&_.is.mac===!0&&window[`${e}EventListener`]("wheel",Ot,T.notPassive),e==="remove"&&(_.is.ios===!0&&(l===!0?(window.visualViewport.removeEventListener("resize",G,T.passiveCapture),window.visualViewport.removeEventListener("scroll",G,T.passiveCapture)):window.removeEventListener("scroll",qe,T.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=Se,t.style.top=_e,window.location.href===Ce&&window.scrollTo(re,se),V=void 0)}function Rt(e){let t="add";if(e===!0){if(A++,P!==null){clearTimeout(P),P=null;return}if(A>1)return}else{if(A===0||(A--,A>0))return;if(t="remove",_.is.ios===!0&&_.is.nativeMobile===!0){P!==null&&clearTimeout(P),P=setTimeout(()=>{Te(t),P=null},100);return}}Te(t)}function jt(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Rt(t))}}}const B=[];let Q;function Kt(e){Q=e.keyCode===27}function Gt(){Q===!0&&(Q=!1)}function Xt(e){Q===!0&&(Q=!1,gt(e,27)===!0&&B[B.length-1](e))}function De(e){window[e]("keydown",Kt),window[e]("blur",Gt),window[e]("keyup",Xt),Q=!1}function Yt(e){_.is.desktop===!0&&(B.push(e),B.length===1&&De("addEventListener"))}function Ee(e){const t=B.indexOf(e);t!==-1&&(B.splice(t,1),B.length===0&&De("removeEventListener"))}const $=[];function Ae(e){$[$.length-1](e)}function Ut(e){_.is.desktop===!0&&($.push(e),$.length===1&&document.body.addEventListener("focusin",Ae))}function Pe(e){const t=$.indexOf(e);t!==-1&&($.splice(t,1),$.length===0&&document.body.removeEventListener("focusin",Ae))}let X=0;const Zt={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Be={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Jt=de({name:"QDialog",inheritAttrs:!1,props:{...Ke,...Ft,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...Ge,"shake","click","escapeKey"],setup(e,{slots:t,emit:l,attrs:n}){const a=$e(),r=k(null),o=k(!1),d=k(!1);let u=null,w=null,v,h;const f=s(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:c}=jt(),{registerTimeout:b}=_t(),{registerTick:F,removeTick:C}=Ct(),{transitionProps:q,transitionStyle:I}=Lt(e,()=>Be[e.position][0],()=>Be[e.position][1]),O=s(()=>I.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:H,hidePortal:W,portalIsAccessible:Y,renderPortal:S}=It(a,r,je,"dialog"),{hide:x}=Xe({showing:o,hideOnRouteChange:f,handleShow:Ie,handleHide:Oe,processOnMount:!0}),{addToHistory:L,removeFromHistory:U}=$t(o,x,f),Me=s(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Zt[e.position]}`+(d.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),R=s(()=>o.value===!0&&e.seamless!==!0),Ve=s(()=>e.autoClose===!0?{onClick:We}:{}),Ne=s(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${R.value===!0?"modal":"seamless"}`,n.class]);we(()=>e.maximized,i=>{o.value===!0&&ee(i)}),we(R,i=>{c(i),i===!0?(Ut(te),Yt(J)):(Pe(te),Ee(J))});function Ie(i){L(),w=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,ee(e.maximized),H(),d.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),F(D)):C(),b(()=>{if(a.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:g,bottom:z}=document.activeElement.getBoundingClientRect(),{innerHeight:me}=window,oe=window.visualViewport!==void 0?window.visualViewport.height:me;g>0&&z>oe/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-oe,z>=me?1/0:Math.ceil(document.scrollingElement.scrollTop+z-oe/2))),document.activeElement.scrollIntoView()}h=!0,r.value.click(),h=!1}H(!0),d.value=!1,l("show",i)},e.transitionDuration)}function Oe(i){C(),U(),fe(!0),d.value=!0,W(),w!==null&&(((i&&i.type.indexOf("key")===0?w.closest('[tabindex]:not([tabindex^="-"])'):void 0)||w).focus(),w=null),b(()=>{W(!0),d.value=!1,l("hide",i)},e.transitionDuration)}function D(i){Qt(()=>{let g=r.value;if(g!==null){if(i!==void 0){const z=g.querySelector(i);if(z!==null){z.focus({preventScroll:!0});return}}g.contains(document.activeElement)!==!0&&(g=g.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||g.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||g.querySelector("[autofocus], [data-autofocus]")||g,g.focus({preventScroll:!0}))}})}function Z(i){i&&typeof i.focus=="function"?i.focus({preventScroll:!0}):D(),l("shake");const g=r.value;g!==null&&(g.classList.remove("q-animate--scale"),g.classList.add("q-animate--scale"),u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,r.value!==null&&(g.classList.remove("q-animate--scale"),D())},170))}function J(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&Z():(l("escapeKey"),x()))}function fe(i){u!==null&&(clearTimeout(u),u=null),(i===!0||o.value===!0)&&(ee(!1),e.seamless!==!0&&(c(!1),Pe(te),Ee(J))),i!==!0&&(w=null)}function ee(i){i===!0?v!==!0&&(X<1&&document.body.classList.add("q-body--dialog"),X++,v=!0):v===!0&&(X<2&&document.body.classList.remove("q-body--dialog"),X--,v=!1)}function We(i){h!==!0&&(x(i),l("click",i))}function Re(i){e.persistent!==!0&&e.noBackdropDismiss!==!0?x(i):e.noShake!==!0&&Z()}function te(i){e.allowFocusOutside!==!0&&Y.value===!0&&ct(r.value,i.target)!==!0&&D('[tabindex]:not([tabindex="-1"])')}Object.assign(a.proxy,{focus:D,shake:Z,__updateRefocusTarget(i){w=i||null}}),Fe(fe);function je(){return p("div",{role:"dialog","aria-modal":R.value===!0?"true":"false",...n,class:Ne.value},[p(pe,{name:"q-transition--fade",appear:!0},()=>R.value===!0?p("div",{class:"q-dialog__backdrop fixed-full",style:O.value,"aria-hidden":"true",tabindex:-1,onClick:Re}):null),p(pe,q.value,()=>o.value===!0?p("div",{ref:r,class:Me.value,style:I.value,tabindex:-1,...Ve.value},ut(t.default)):null)])}return S}});const eo={class:"text-h4"},to={class:"text-subtitle2"},oo={class:"row justify-center items-center"},uo=Object.assign({name:"WorkoutPage "},{__name:"workout.page",setup(e){ne.extend(Ye);const t=qt(),l=ht(),n=k({});yt(()=>{n.value=t.workouts.find(S=>S.id==l.params.id)}),Le(()=>{cancelAnimationFrame(h)});const a=k(!1),r=k(0),o=k(0),d=k(!1),u=k(0);let w=0,v=0,h=null;const f=s(()=>n.value.content[r.value]),c=s(()=>n.value.content[r.value+1]),b=s(()=>f.value?(f.value.duration*1e3-o.value)/f.value.duration/1e3*100:0);function F(){a.value=!0,r.value=0,C()}function C(){o.value=f.value.duration*1e3,u.value=0,w=performance.now(),v=0,q()}function q(){if(d.value){h=requestAnimationFrame(q);return}const x=performance.now()-w-v;u.value=x/f.value.duration/1e3,o.value=Math.max(f.value.duration*1e3-x,0),o.value<=0?I():h=requestAnimationFrame(q)}function I(){cancelAnimationFrame(h),r.value++,r.value<n.value.content.length?C():O()}function O(){cancelAnimationFrame(h),a.value=!1,r.value=0,o.value=0,u.value=0}let H=0;function W(){d.value=!d.value,d.value?H=performance.now():v+=performance.now()-H}const Y=s(()=>ne.duration(n.value.content.reduce((S,x)=>S+x.duration,0),"s"));return(S,x)=>(ae(),xe(be,null,[m(Ue,{class:"bg-white text-primary"},{default:y(()=>[m(Je,null,{default:y(()=>[m(et,{class:"text-center"},{default:y(()=>[j(E(n.value.name),1)]),_:1})]),_:1})]),_:1}),m(Ze,{class:"q-pa-md"},{default:y(()=>[K("p",null,"Total duration: "+E(Y.value.format("m:ss"))+" minutes",1),m(tt,{bordered:"",separator:""},{default:y(()=>[(ae(!0),xe(be,null,wt(n.value.content,(L,U)=>(ae(),xt(lt,{key:U},{default:y(()=>[m(at,null,{default:y(()=>[m(ge,null,{default:y(()=>[j(E(L.name),1)]),_:2},1024),m(ge,{caption:""},{default:y(()=>[j(E(L.duration)+" seconds",1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),m(le,{flat:"",color:"positive",icon:"play_circle",size:"48px",class:"q-mt-md",onClick:F}),m(Jt,{modelValue:a.value,"onUpdate:modelValue":x[0]||(x[0]=L=>a.value=L)},{default:y(()=>[m(ot,{style:{"min-width":"350px"}},{default:y(()=>[m(ve,{class:"text-center"},{default:y(()=>[K("div",eo,E(f.value.name),1),K("div",to,"Next: "+E(c.value?c.value.name:"Finish"),1)]),_:1}),m(ve,{class:"q-pt-none"},{default:y(()=>[K("div",oo,[m(Bt,{"show-value":"","font-size":"52px",value:b.value,size:"250px",thickness:.22,color:f.value.type=="exercise"?"positive":"negative","track-color":"grey-3",class:"q-ma-md","instant-feedback":""},{default:y(()=>[j(E(pt(ne).duration(o.value+999,"ms").format("s")),1)]),_:1},8,["value","color"])])]),_:1}),m(nt,{align:"center"},{default:y(()=>[m(le,{flat:"",icon:d.value?"play_arrow":"pause",size:"48px",onClick:W},null,8,["icon"]),m(le,{flat:"",icon:"stop",color:"negative",size:"48px",onClick:O})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})],64))}});export{uo as default};
